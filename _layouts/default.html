<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ page.title }} | Melati Photography</title>
    
    <!-- Meta Tags -->
    <meta name="description" content="{{ page.description }}">
    <meta name="keywords" content="{{ page.keywords }}">
    
    <!-- Open Graph -->
    <meta property="og:title" content="{{ page.title }} | Melati Photography">
    <meta property="og:description" content="{{ page.description }}">
    <meta property="og:image" content="{{ page.image }}">
    <meta property="og:url" content="{{ page.url }}">
    
    <!-- Preload Critical Resources -->
    <link rel="preload" href="/assets/css/main.css" as="style">
    <link rel="preload" href="/assets/js/main.js" as="script">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;500&family=Montserrat:wght@300;400&display=swap" rel="stylesheet">
    
    <!-- Styles -->
    <link rel="stylesheet" href="/assets/css/main.css">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/assets/images/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/apple-touch-icon.png">
    
    <!-- Schema.org Markup -->
    <script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "LocalBusiness",
        "name": "Melati Photography",
        "image": "{{ site.url }}/assets/images/logo.png",
        "description": "Southern Utah photographer specializing in weddings, portraits, and lifestyle photography",
        "address": {
            "@type": "PostalAddress",
            "addressRegion": "Utah",
            "addressCountry": "US"
        },
        "url": "{{ site.url }}",
        "telephone": "{{ site.phone }}",
        "priceRange": "$$"
    }
    </script>
</head>
<body class="{{ page.bodyClass }}">
    <!-- Noise Texture Overlay -->
    <div class="noise-overlay"></div>
    
    <!-- Loading Screen -->
    <div class="loader">
        <div class="loader-content">
            <div class="loader-logo">M</div>
            <div class="loader-progress"></div>
        </div>
    </div>

    <!-- Header -->
    {% include header.html %}

    <!-- Main Content -->
    <main class="main-content">
        {{ content }}
    </main>

    <!-- Footer -->
    {% include footer.html %}

    <!-- Scripts -->
    <script type="module" src="/assets/js/main.js"></script>
    
    <!-- Page Specific Scripts -->
    {% if page.scripts %}
        {% for script in page.scripts %}
        <script src="{{ script }}" {% if script contains 'module' %}type="module"{% endif %}></script>
        {% endfor %}
    {% endif %}

    <!-- Analytics -->
    {% if jekyll.environment == "production" %}
        <script async src="https://www.googletagmanager.com/gtag/js?id={{ site.google_analytics }}"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', '{{ site.google_analytics }}');
        </script>
    {% endif %}
</body>
</html>
